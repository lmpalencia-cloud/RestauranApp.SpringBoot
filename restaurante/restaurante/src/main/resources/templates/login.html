<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Iniciar sesión - Restaurante</title>
  <link rel="stylesheet" th:href="@{/css/style.css}">
  <style>
    .show-pass-btn {
      margin-left: 10px;
      padding: 4px 8px;
      cursor: pointer;
      font-size: 12px;
    }
    .password-container {
      display: flex;
      align-items: center;
    }
  </style>
</head>
<body class="centered">
  <div class="card animate-pop">
    <h2>Iniciar sesión</h2>
    <form th:action="@{/login}" method="post" autocomplete="off" id="login-form">
      <label>Usuario</label>
      <input type="text" name="username" required autocomplete="off"/>

      <label>Contraseña</label>
      <div class="password-container">
        <input type="password" name="password" required autocomplete="new-password" id="password-field"/>
        <button type="button" class="show-pass-btn" id="toggle-pass">Mostrar</button>
      </div>

      <button type="submit" class="btn">Entrar</button>
    </form>

    <div class="links">
      <a th:href="@{/register}">Registrarse</a> |
      <a th:href="@{/olvide}">Olvidé mi contraseña</a>
    </div>
  </div>

  <script th:src="@{/js/app.js}"></script>
  <script>
    // Limpiar campos al cargar
    window.addEventListener('load', () => {
      document.querySelector('input[name="username"]').value = '';
      document.querySelector('input[name="password"]').value = '';
    });

    // Mostrar / Ocultar contraseña
    const toggleBtn = document.getElementById('toggle-pass');
    const passwordField = document.getElementById('password-field');

    toggleBtn.addEventListener('click', () => {
      if (passwordField.type === 'password') {
        passwordField.type = 'text';
        toggleBtn.textContent = 'Ocultar';
      } else {
        passwordField.type = 'password';
        toggleBtn.textContent = 'Mostrar';
      }
    });
  </script>
</body>
</html>
