<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head><meta charset="UTF-8"><title>Workspace</title>
<link rel="stylesheet" th:href="@{/css/style.css}"></head>
<body>
  <header class="topbar">
    <h1>Espacio de trabajo - Trabajador</h1>
    <nav><a th:href="@{/logout}">Salir</a></nav>
  </header>

  <section class="container two-col">
    <div class="card">
      <h3>Mesas</h3>
      <ul>
        <li th:each="t : ${tables}">
          <strong th:text="${t.name}">Mesa</strong>
          <span th:text="${t.occupied ? ' (Ocupada)' : ''}"></span>
        </li>
      </ul>
    </div>

    <div class="card">
      <h3>Crear orden</h3>
      <form th:action="@{/worker/order/create}" method="post">
        <label>Tabla</label>
        <select name="tableId" required>
          <option th:each="t: ${tables}" th:value="${t.id}" th:text="${t.name}"></option>
        </select>

        <div>
          <label>Productos</label>
          <div th:each="p,iterStat : ${products}">
            <input type="checkbox" th:id="${'prod-'+p.id}" th:name="productIds" th:value="${p.id}"/>
            <label th:for="${'prod-'+p.id}" th:text="${p.name + ' - ' + p.price}"></label>
            <input type="number" name="quantities" min="1" value="1"/>
          </div>
        </div>
        <button class="btn" type="submit">Crear factura</button>
      </form>
    </div>
  </section>

</body>
</html>
